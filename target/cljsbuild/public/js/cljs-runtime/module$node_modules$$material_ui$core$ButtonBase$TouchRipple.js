shadow$provide.module$node_modules$$material_ui$core$ButtonBase$TouchRipple=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");var _interopRequireDefault=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.styles=exports.DELAY_RIPPLE=void 0;var _extends2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$extends")),
_toConsumableArray2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_objectWithoutProperties2=_interopRequireDefault(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),React=global(require("module$node_modules$react$index"));global=_interopRequireDefault(require("module$node_modules$prop_types$index"));var _reactTransitionGroup=require("module$node_modules$react_transition_group$cjs$index"),_clsx=_interopRequireDefault(require("module$node_modules$clsx$dist$clsx"));
module=_interopRequireDefault(require("module$node_modules$$material_ui$core$styles$withStyles"));var _Ripple=_interopRequireDefault(require("module$node_modules$$material_ui$core$ButtonBase$Ripple"));exports.DELAY_RIPPLE=80;require=function(theme){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,
"ms ").concat(theme.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(theme.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(theme.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(theme.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",
opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};exports.styles=require;_interopRequireDefault=React.forwardRef(function(props,ref){var _props$center=props.center,centerProp=void 0===_props$center?!1:_props$center,classes=props.classes;_props$center=props.className;props=(0,_objectWithoutProperties2.default)(props,["center",
"classes","className"]);var _React$useState=React.useState([]),ripples=_React$useState[0],setRipples=_React$useState[1],nextKey=React.useRef(0),rippleCallback=React.useRef(null);React.useEffect(function(){rippleCallback.current&&(rippleCallback.current(),rippleCallback.current=null)},[ripples]);var ignoringMouseDown=React.useRef(!1),startTimer=React.useRef(null),startTimerCommit=React.useRef(null),container=React.useRef(null);React.useEffect(function(){return function(){clearTimeout(startTimer.current)}},
[]);var startCommit=React.useCallback(function(params){var pulsate=params.pulsate,rippleX=params.rippleX,rippleY=params.rippleY,rippleSize=params.rippleSize;params=params.cb;setRipples(function(oldRipples){return[].concat((0,_toConsumableArray2.default)(oldRipples),[React.createElement(_Ripple.default,{key:nextKey.current,classes,timeout:550,pulsate,rippleX,rippleY,rippleSize})])});nextKey.current+=1;rippleCallback.current=params},[classes]),start=React.useCallback(function(){var event=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},cb=2<arguments.length?arguments[2]:void 0,_options$pulsate=options.pulsate,pulsate=void 0===_options$pulsate?!1:_options$pulsate;_options$pulsate=options.center;_options$pulsate=void 0===_options$pulsate?centerProp||options.pulsate:_options$pulsate;options=options.fakeElement;if("mousedown"===event.type&&ignoringMouseDown.current)ignoringMouseDown.current=!1;else{"touchstart"===event.type&&(ignoringMouseDown.current=
!0);var rect=(options=(void 0===options?0:options)?null:container.current)?options.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(_options$pulsate||0===event.clientX&&0===event.clientY||!event.clientX&&!event.touches){var rippleX=Math.round(rect.width/2);var rippleY=Math.round(rect.height/2)}else{var _ref=event.touches?event.touches[0]:event,clientY=_ref.clientY;rippleX=Math.round(_ref.clientX-rect.left);rippleY=Math.round(clientY-rect.top)}if(_options$pulsate){var rippleSize=Math.sqrt((2*
Math.pow(rect.width,2)+Math.pow(rect.height,2))/3);0===rippleSize%2&&(rippleSize+=1)}else rippleSize=Math.sqrt(Math.pow(2*Math.max(Math.abs((options?options.clientWidth:0)-rippleX),rippleX)+2,2)+Math.pow(2*Math.max(Math.abs((options?options.clientHeight:0)-rippleY),rippleY)+2,2));event.touches?null===startTimerCommit.current&&(startTimerCommit.current=function(){startCommit({pulsate,rippleX,rippleY,rippleSize,cb})},startTimer.current=setTimeout(function(){startTimerCommit.current&&(startTimerCommit.current(),
startTimerCommit.current=null)},80)):startCommit({pulsate,rippleX,rippleY,rippleSize,cb})}},[centerProp,startCommit]),pulsate$jscomp$0=React.useCallback(function(){start({},{pulsate:!0})},[start]),stop=React.useCallback(function(event,cb){clearTimeout(startTimer.current);"touchend"===event.type&&startTimerCommit.current?(event.persist(),startTimerCommit.current(),startTimerCommit.current=null,startTimer.current=setTimeout(function(){stop(event,cb)})):(startTimerCommit.current=null,setRipples(function(oldRipples){return 0<
oldRipples.length?oldRipples.slice(1):oldRipples}),rippleCallback.current=cb)},[]);React.useImperativeHandle(ref,function(){return{pulsate:pulsate$jscomp$0,start,stop}},[pulsate$jscomp$0,start,stop]);return React.createElement("span",(0,_extends2.default)({className:(0,_clsx.default)(classes.root,_props$center),ref:container},props),React.createElement(_reactTransitionGroup.TransitionGroup,{component:null,exit:!0},ripples))});_interopRequireDefault.propTypes={center:global.default.bool,classes:global.default.object.isRequired,
className:global.default.string};require=(0,module.default)(require,{flip:!1,name:"MuiTouchRipple"})(React.memo(_interopRequireDefault));exports.default=require}
//# sourceMappingURL=module$node_modules$$material_ui$core$ButtonBase$TouchRipple.js.map
