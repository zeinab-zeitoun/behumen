shadow$provide.module$node_modules$rifm$dist$rifm_cjs=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var _inheritsLoose=function(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}(require("module$node_modules$$babel$runtime$helpers$inheritsLoose"));global=function(_React$Component){function Rifm(props){var _this=_React$Component.call(this,props)||this;_this._state=null;_this._del=!1;_this._handleChange=function(evt){if("number"===
evt.target.type)console.error("Rifm does not support input type\x3dnumber, use type\x3dtel instead.");else{var stateValue=_this.state.value,value=evt.target.value,input=evt.target,op=value.length>stateValue.length,del=_this._del,noOp=stateValue===_this.props.format(value);_this.setState({value,local:!0},function(){var refuse=_this.props.refuse||/[^\d]+/g,before=value.substr(0,input.selectionStart).replace(refuse,"");_this._state={input,before,op,di:del&&noOp,del};if(_this.props.replace&&_this.props.replace(stateValue)&&
op&&!noOp){for(var start=-1,i=0;i!==before.length;++i)start=Math.max(start,value.toLowerCase().indexOf(before[i].toLowerCase(),start+1));refuse=value.substr(start+1).replace(refuse,"")[0];start=value.indexOf(refuse,start+1);value=""+value.substr(0,start)+value.substr(start+1)}start=_this.props.format(value);if(stateValue===start)_this.setState({value});else _this.props.onChange(start)})}};_this._hKD=function(evt){"Delete"===evt.code&&(_this._del=!0)};_this._hKU=function(evt){"Delete"===evt.code&&
(_this._del=!1)};_this.state={value:props.value,local:!0};return _this}_inheritsLoose(Rifm,_React$Component);Rifm.getDerivedStateFromProps=function(props,state){return{value:state.local?state.value:props.value,local:!1}};var _proto=Rifm.prototype;_proto.render=function(){var children=this.props.children;return children({value:this.state.value,onChange:this._handleChange})};_proto.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD);document.removeEventListener("keyup",
this._hKU)};_proto.componentDidMount=function(){document.addEventListener("keydown",this._hKD);document.addEventListener("keyup",this._hKU)};_proto.componentDidUpdate=function(){var _state=this._state;if(_state){for(var value=this.state.value,start=-1,i=0;i!==_state.before.length;++i)start=Math.max(start,value.toLowerCase().indexOf(_state.before[i].toLowerCase(),start+1));if(this.props.replace&&(_state.op||_state.del&&!_state.di))for(;value[start+1]&&(this.props.refuse||/[^\d]+/).test(value[start+
1]);)start+=1;_state.input.selectionStart=_state.input.selectionEnd=start+1+(_state.di?1:0)}this._state=null};return Rifm}(require("module$node_modules$react$index").Component);exports.Rifm=global}
//# sourceMappingURL=module$node_modules$rifm$dist$rifm_cjs.js.map
